<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="robots" content="none"><meta name="viewport" content="width=device-width, initial-scale=1"><script src="/javascripts/jquery-2.1.1.min.js"></script><link href="/stylesheets/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="all"><script src="/stylesheets/bootstrap/js/bootstrap.min.js"></script><link href="/stylesheets/font-awesome-4.2.0/css/font-awesome.min.css" rel="stylesheet" media="all"><link href="/stylesheets/general.css" rel="stylesheet" media="all"><title>注册</title></head><body><div id="nav"><nav role="navigation" class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar-collapse" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand">SRF</a></div><div id="navbar-collapse" class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/account/login">登陆</a></li><li><a href="/account/register">注册</a></li></ul></div></div></nav></div><div id="header"><div id="header-content"><ol class="breadcrumb"><li><a href="/">主页</a></li><li>注册</li></ol></div></div></body><link href="/stylesheets/signup.css" rel="stylesheet" media="all"><script src="/javascripts/jquery.validate.min.js"></script><script src="/javascripts/messages_zh.min.js"></script><script src="/javascripts/md5.js"></script><div class="container"><div class="alert alert-warning alert-dismissible hidden"><button type="button" data-dismiss="alert" class="close"><span>×</span></button><strong class="alert-message"></strong></div><form id="form-register" action="/account/register" name="postSignupMessage" method="post" class="form-horizontal"><div class="form-group"><label for="username" class="col-sm-2 control-label">用户名</label><div class="col-sm-10"><input id="username" type="text" placeholder="请输入用户名" name="username" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><label for="password" class="col-sm-2 control-label">密码</label><div class="col-sm-10"><input id="password" type="password" placeholder="请输入密码" name="password" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><label for="password2" class="col-sm-2 control-label">确认密码</label><div class="col-sm-10"><input id="password2" type="password" placeholder="请再次输入密码" name="password2" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><label for="name" class="col-sm-2 control-label">姓名</label><div class="col-sm-10"><input id="name" type="text" placeholder="请输入您的姓名" name="name" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><label for="id" class="col-sm-2 control-label">身份证号</label><div class="col-sm-10"><input id="id" type="text" placeholder="请输入身份证号码" name="id" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><label for="phone" class="col-sm-2 control-label">手机号</label><div class="col-sm-10"><input id="phone" type="text" placeholder="请输入您的手机号" name="phone" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span><button id="msg" onclick="StartCountDown()" class="btn btn-link">发送验证短信</button></div></div><div class="form-group"><label for="vallidationCode" class="col-sm-2 control-label">验证码</label><div class="col-sm-10"><input id="validation-code" type="text" placeholder="您收到的短信验证码" name="validationCode" required class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><label for="email" class="col-sm-2 control-label">电子邮箱</label><div class="col-sm-10"><input id="email" type="email" placeholder="电子邮箱（用于找回您的密码）" name="email" class="form-control"><span class="glyphicon glyphicon-warning-sign form-control-feedback hidden"></span></div></div><div class="form-group"><div class="col-sm-offset-2 col-sm-10"><div class="checkbox"><label><input type="checkbox" id="eula">我同意SAD挂号平台的<a href="license.html">服务许可协议</a></label></div></div></div><button id="submit-button" class="btn btn-lg btn-primary btn-block">确认注册</button></form></div><script type="text/javascript">if ($(".alert-message").html() != "") {
    $(".alert").removeClass("hidden");
}

var maxtime = 60;

function StartCountDown() {
    $("#msg").attr("disabled", true);
    maxtime = 60;
    timer = setInterval("CountDown()", 1000);
}

function CountDown() {
    if (maxtime >= 0) {
        var minutes = Math.floor(maxtime / 60);
        var seconds = Math.floor(maxtime % 60);
        $("#msg").html(minutes + "分" + seconds + "秒后可以再次发送");
        maxtime--;
    } else {
        $("#msg").attr("disabled", false);
        clearInterval(timer);
        $("#msg").html("重新发送");
    }
}


$("#submit-button").click(function(e) {
    e.preventDefault();

    $(".alert").addClass("hidden");
    $(".form-group").removeClass("has-warning");
    $(".form-control-feedback").addClass("hidden");

    var checkCompletion = true;
    var checkPassword = true;
    var checkId = true;
    var checkPhone = true;
    var checkEmail = true;
    var checkEULA = true;

    $(".form-control").each(function() {
        if ($(this).val() == "") {
            checkCompletion = false;
            $(this).parents(".form-group").addClass("has-warning");
            $(this).siblings(".form-control-feedback").removeClass("hidden");
        }
    });
    if (checkCompletion == false) {
        $(".alert-message").html("信息不完整");
        $(".alert").removeClass("hidden");
        return;
    }

    if ($("#password").val() != $("#password2").val()) {
        $("#password").parents(".form-group").addClass("has-warning");
        $("#password").siblings(".form-control-feedback").removeClass("hidden");
        $("#password2").parents(".form-group").addClass("has-warning");
        $("#password2").siblings(".form-control-feedback").removeClass("hidden");
        $(".alert-message").html("两次输入的密码不一致");
        $(".alert").removeClass("hidden");
        checkPassword = false;
        return;
    }

    if (!(/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/).test($("#id").val())) {
        $("#id").parents(".form-group").addClass("has-warning");
        $("#id").siblings(".form-control-feedback").removeClass("hidden");
        $(".alert-message").html("身份证号格式有误");
        $(".alert").removeClass("hidden");
        checkId = false;
        return;
    }

    if (!(/^1[3|4|5|7|8]\d{9}$/.test($("#phone").val()))) {
        $("#phone").parents(".form-group").addClass("has-warning");
        $("#phone").siblings(".form-control-feedback").removeClass("hidden");
        $(".alert-message").html("手机号格式有误");
        $(".alert").removeClass("hidden");
        checkPhone = false;
        return;
    }

    if (!(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test($("#email").val()))) {
        $("#email").parents(".form-group").addClass("has-warning");
        $("#email").siblings(".form-control-feedback").removeClass("hidden");
        $(".alert-message").html("邮箱格式有误");
        $(".alert").removeClass("hidden");
        checkEmail = false;
        return;
    }

    if (!$("#eula").is(":checked")) {
        $("#eula").parents(".form-group").addClass("has-warning");
        $(".alert-message").html("您必须同意服务许可协议");
        $(".alert").removeClass("hidden");
        checkEULA = false;
        return;
    }

    if (checkCompletion && checkPassword && checkId && checkPhone && checkEmail &&checkEULA) {
        $("#form-register").submit();
    }
});


$("#form-register").submit(function() {
    $("#password").val(hex_md5($("#password").val()));
    $("#password2").val(hex_md5($("#password2").val()));
    return true;
});</script><div id="footer"><p id="copyright" class="text-center">© 2014 SRF 版权所有</p></div></html>